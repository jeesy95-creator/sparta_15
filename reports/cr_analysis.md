## FitBit 사용자 활동 데이터 분석 보고서

### 1. 비즈니스 목표 수립
목표: 스마트 웨어러블 기기 및 IT 기업인 Bellabeat의 마케팅 전략 수립을 위해, Fitbit 사용자 활동 데이터를 분석하여 사용자 패턴과 인사이트를 도출하기
- 핵심 질문: 사용자의 입력 방식(자동/수동)과 활동 강도 패턴은 어떠한가?
- 분석 방향: 자동 입력자와 수동 입력자의 차이를 분석하고, 개인화된 맞춤형 서비스 제안을 위한 근거를 마련한다.

---

### 2. 데이터 소스 설명
- 데이터 출처: Fitbit 사용자 활동 데이터 (Kaggle / Bellabeat 제공)
- 관측 단위: Fitbit 사용자 30명의 활동(사용자-일(Day) 단위)
- 수집 기간: 2016년 3월 12일 ~ 2016년 5월 12일 (총 62일간)
- 주요 변수:
    - `Id`: 사용자 식별자
    - `ActivityDate`: 활동 날짜
    - `TotalSteps`, `TotalDistance`: 총 걸음 수 및 거리
    - `VeryActiveMinutes`, `SedentaryMinutes`, `LightActiveMinutes` 등: 활동 강도별 시간
    - `TrackerDistance` vs `LoggedActivitiesDistance`: 기기 자동 입력 거리 vs 사용자 수동 입력 거리

---

### 3. EDA: 데이터 구조 및 결측치
#### 데이터 형태 
- 전체 데이터: 1,373행 15열 (1373, 15)
- 사용자 수: 총 35명 (`Id` 기준 unique 값)

#### 결측치 및 데이터 확인
- 데이터 로딩 직후 `info()` 및 `isnull().sum()`을 통해 결측치를 확인하였으며, 주요 활동 데이터(`TotalSteps`, `Calories` 등)에는 결측이 없는 것으로 파악됨.
- `Id`별 데이터 개수를 확인하여 데이터의 균형 상태를 점검함.

#### 기술 통계 
- 분석 대상 컬럼(`TotalSteps`, `TotalDistance`, `Calories` 등)에 대해 `describe()` 함수를 사용함
- 특이사항: 일부 데이터에서 활동량이 0인 날(비착용 의심 구간)이 존재함이 확인됨.

---

### 4. 데이터 전처리 과정

데이터의 정확성을 높이고 분석에 적합한 형태로 만들기 위해 다음과 같은 규칙을 수립하고 실행하였다.

1.  날짜 형식 변환: `ActivityDate` 컬럼을 `datetime` 타입으로 변환하여 시계열 분석이 가능하도록 하였다.

2.  데이터 정렬: `ActivityDate`를 기준으로 데이터를 오름차순(과거→최신) 정렬하여 변화를 파악하였다.

2.  요일 변수 생성: 날짜로부터 `Weekday`를 추출하고, 요일 순서(`Monday` ~ `Sunday`)를 범주형으로 고정하였다.

4.  단위 변환: 마일(Mile) 단위의 거리 데이터를 킬로미터(Km)로 변환 (`* 1.60934`)하였다.

5.  이상치 및 비착용 데이터 제거
- 조건: 다음 세 가지 조건을 모두 만족하는 행을 '비착용(Non-wear)'으로 간주하여 제거하였다.
        1.  `TotalSteps`(총 걸음 수)가 0인 경우
        2.  `TotalDistance`(총 거리)가 0인 경우
        3.  `SedentaryMinutes`(비활동 시간)가 1,380분(23시간) 이상인 경우
- 이유: 기기를 착용하지 않은 날의 데이터가 포함될 경우, 전체 평균 활동량이 낮게 왜곡되는 것을 방지하기 위함이다.

---

### 5. 파생 컬럼/변수 명 정리

분석 과정에서 심층적인 인사이트 도출을 위해 새롭게 생성한 변수들은 다음과 같다.

| 파생 변수명 | 설명 및 계산 로직 |
| :--- | :--- |
| `Weekday` | **요일 추출.** `ActivityDate`에서 추출한 요일 이름. (예: "Monday", "Tuesday") |
| `TotalActiveMinutes` | **총 활동 시간.** 활동 강도별 시간을 모두 합산한 값.<br>(`VeryActiveMinutes` + `FairlyActiveMinutes` + `LightlyActiveMinutes`) |
| `DayofWeek` | **정렬된 요일.** 시각화 편의를 위해 `Weekday`를 월~일 순서로 정렬된 범주형 타입으로 변환한 변수. |
| `*_km` 컬럼들 | **km 환산 거리.** 마일 단위 데이터를 킬로미터로 변환하여 저장한 새로운 컬럼들.<br>(예: `TotalDistance_km`, `TrackerDistance_km` 등) |
| `UserCategory` | **사용자 유형 분류.** 데이터 입력 방식에 따라 사용자를 3가지 그룹으로 분류함.<br> 1. **완전 자동 입력자:** 기기 측정값만 있고 수동 입력이 없는 경우 (`Tracker` > 0 & `Logged` == 0)<br> 2. **자동+수동 혼용자:** 기기 측정과 수동 입력을 병행한 경우 (`Tracker` > 0 & `Logged` > 0)<br> 3. **완전 수동 입력자:** 기기 측정 없이 수동 입력만 있는 경우 (`Tracker` == 0 & `Logged` > 0) |

---

### 6. 주요 분석 및 시각화
#### 6.1. 분석 주제: 입력 방식(자동/수동)에 따른 사용자 분류
사용자가 데이터를 기기로 자동 입력하는지, 직접 수동으로 입력하는지를 기준으로 그룹을 나누어 분석하였다.

- 분류 기준:
    - 완전 자동 입력자: `TrackerDistance` > 0 이고 `LoggedActivitiesDistance` == 0
    - 자동+수동 혼용자: 둘 다 입력이 있는 경우
    - 완전 수동 입력자: `TrackerDistance` == 0 이고 `LoggedActivitiesDistance` > 0

![alt text](<../assets/cr_assets/입력 방식에 따른 사용자 분포.png>)

##### 분석
1. 완전 자동 입력을 사용하는 이용자가 80% 비율이다. 
2. 완전 수동입력자는 1명이며, 데이터를 확인해봤을 경우 수동 입력 거리가 일률적이므로 데이터의 가치가 떨어지는 편이다. 
3. 자동 입력과 수동 입력을 혼용하는 이용자는 약 17%이다. 

- 완전 자동 입력자의 비율이 높으므로 이들을 토대로 데이터 분석을 진행하는 편이 좋다.
- 하지만 개인별 맞춤 분석을 위해서 혼용 이용자도 분석할 수 있다. 


![alt text](<../assets/cr_assets/수동 입력자 패턴.png>)

##### 분석2
1. 수동 입력 이용자 7명을 추려내 자동 입력과 수동 입력을 비교했다.
2. 수동 입력이 총 입력 횟수의 50% 이상인 이용자는 4명이며, 그중 2명은 총 입력 횟수가 4회, 3회로 평균에 비해 적었다.


##### 6.1. 총 정리
- 기기 이용자 35명 중 수동 입력 기능을 사용하는 이용자는 약 20%이다.
- 수동 입력 기능을 적극적으로 사용하는 이용자(총 입력 횟수의 50% 이상)의 비율은 약 11.4%이다. 
- 수동 입력 기능을 적극적으로 사용하는 이용자 중 총 입력횟수의 평균(36회)을 넘는 이용자는 2명으로, 전체 비율의 5.7%를 차지한다. 
- 모수가 적지만 수동 입력 기능을 적극적으로 사용하는 이용자의 비율이 낮으므로 분석 필요성이 떨어진다.

---

#### 6.2. 시계열 활동 추세 분석

전체 기간을 7일 단위로 나누어(DateRange) 총 활동 시간과 활성 사용자 수의 변화를 격자형 그래프(FacetGrid)로 시각화하였다.

![alt text](<../assets/cr_assets/날짜별 사용자 수.png>)

##### 분석
1. 날짜별 이용자 수를 확인해보니 3월 31일까지는 이용자 수가 적음을 알 수 있다. 
2. 4월부터 이용자 수가 안정적이나 5월 7일부터는 이용자 수가 적어짐을 알 수 있다.
3. 안정화된 4월달에는 대체로 30명 내외의 이용자 수가 관측된다.
- 3월은 장비 착용에 익숙하지 않아 이용자 수가 적었는가?
- 5월 7일부터는 장비 착용을 하지 않아도 되어 이용자 수가 적어졌는가?  

![alt text](<../assets/cr_assets/날짜별 총 활동 시간.png>)

##### 분석
1. 위의 날짜별 이용자수와 조합했을 때, 3월 31일까지 데이터가 안정되지 않은 이유를 알 수 있다. 이용자 수가 적어 작은 값에도 그래프가 널뛰기하는 현상을 보이고 있다.
2. 4월에는 안정화되었지만 5월 12일에는 총 활동시간이 급감하는 모습을 보였다. 
3. 안정화된 4월달에는 대체로 총 활동 시간이 200~300분(3시간 20분~5시간) 사이를 오갔다. 
- 중강도 이상의 활동을 하기에는 긴 시간이라 추측된다. 
- 4월달의 각 강도별 활동 시간을 조사한다면 분석에 유의미한 데이터를 얻을 수 있을까?

---

#### 6.3. 강도별 비율 분석

전체 기간을 7일 단위로 나누어 강도별 활동 시간 변화를 격자형 그래프로, 중강도·고강도 평균을 막대그래프로 시각화하였다.

##### 분석1

![alt text](<../assets/cr_assets/날짜별 강도별 평균 활동 시간.png>)

1. 운동량의 대부분은 저강도에 몰려있음을 알 수 있다. 
2. 평균 활동 시간 추정이지만 대체로 고강도 활동 시간이 중강도 활동 시간보다 높음을 알 수 있다. 
- 유의미한 차이인가?
- 중강도와 고강도를 비교할 수 있는 방법은? 


##### 분석2

![alt text](<../assets/cr_assets/중강도 고강도 평균 비교(날짜 제한).png>)


```
--- 정규성 검정 결과 ---
중강도 p-value: 0.0000
고강도 p-value: 0.0000

[결과] 정규성을 만족하지 않으므로 '윌콕슨 부호 순위 검정'을 수행합니다.

--- Wilcoxon Signed-Rank Test 결과 ---
통계량(Statistic): 96204.5000
p-value: 5.6370e-14

--- [최종 결론] ---
p-value가 0.05보다 작으므로, 두 활동 간의 차이는 '통계적으로 유의미'합니다.
   (즉, 우연이 아니라 실제로 활동량의 차이가 존재합니다.)
```

##### 6.3. 총 정리
- 즉, 중강도와 고강도 활동 시간의 차이가 통계적으로 유의미한지 분석한 결과, p-value가 0.05보다 작으므로 두 활동 간의 차이는 통계적으로 유의미하다고 할 수 있다.
- 이용자는 중강도 운동보다 고강도 운동을 선호한다고 볼 수 있다. 

---

#### 7. 인사이트 제시

##### 7.1. 입력 방식 선호도 

1.  완전 자동 입력: 전체 사용자의 약 80%가 완전 자동 입력 방식을 사용한다.
    - 대다수 사용자가 기기의 자동 측정에 의존하므로, 기기 측정의 정확도를 높이고 자동 감지 기능을 강화하는 것이 중요하다.
2.  혼용 입력: 약 17%의 사용자는 자동 입력과 수동 입력을 병행한다.
    - 이들은 더 적극적인 건강 관리를 하는 고관여 유저일 가능성이 높으므로, 수동 입력 편의성을 개선하거나 맞춤형 코칭 서비스를 제공할 수 있다.
3.  완전 수동 입력: 완전 수동 입력자는 극히 드물며(1명), 데이터의 신뢰도가 낮을 수 있어 분석 시 주의가 필요하다.

##### 7.2 데이터 안정화 시기 식별

1. 초기 불안정 구간 (~3월 말): 3월 12일 ~ 3월 31일 구간은 사용자 수가 1~3명 내외로 매우 적고, 활동 시간의 편차가 극심하다. 초기 테스트 기간으로 추정된다. 초기에는 착용 알람을 설정하여 이용자들의 행동을 유도하는 기능 추가가 필요할 수 있다. 

2. 안정화 구간 (4월 초 ~): 4월 2일부터 사용자 수가 30명 내외로 안정화되며, 활동 시간 데이터의 신뢰구간이 좁아진다. 통계적 유의미성은 4월 1일 이후 데이터부터 확보된다. 안정화된 4월달에는 대체로 총 활동 시간이 200~300분(3시간 20분~5시간) 사이를 오갔다. 

3. 후기 불안정 구간: 5월 12일에는 이용자 수가 20명 이하로 하강하는 모양새를 보인다. 착용을 독려하기 위한 조치가 필요할 수 있다. 

##### 7.3 강도별 비율 분석

1. 활동 강도 선호: 이용자들은 중강도 운동보다 고강도 운동을 선호하는 경향이 관찰되었다. 짧고 굵게 운동하는 패턴에 맞춘 운동 프로그램 추천이 유효할 수 있다.

